<?xml version="1.0"?>
<launch>

    <arg name="robot" default="$(optenv ROBOT !!NO_ROBOT_SET!!)"/>
    <param name="robot_config" value="$(find cob_grasping_app)/config/$(arg robot)/robot_config.yaml" />
    <param name="test_config_file" value="$(find atf_core)/config/test_config.yaml" />

    <!-- Node for publishing the minimal distance to obstacles -->
    <node name="obstacle_distance_node" output="screen" pkg="atf_recorder_plugins" type="obstacle_distance_node"/>

    <!-- Testsuite params -->
    <param name="test_name" value="ts3_t1" />
    <param name="test_config" value="test_1" />
    <param name="scene_config" value="scene_3" />
    <param name="planer_id" value="RRTConnectkConfigDefault" />
    <param name="eef_step" value="0.01" />
    <param name="jump_threshold" value="2" />
    <param name="planning_method" value="cartesian" />

    <node name="grasping_app" pkg="cob_grasping_app" type="grasping_app.py" output="screen" required="true">
        <param name="scene_config_file" value="$(find cob_grasping_app)/config/scene_config.yaml" />
        <param name="standalone" value="True" />

        <!-- User params -->
        <param name="switch_arm" value="True" />
        <param name="wait_for_user" value="True" />
        <param name="joint_trajectory_speed" value="0.3" />
        <param name="max_error" value="50" />
        <param name="lift_height" value="0.02" />
        <param name="approach_distance" value="0.14" />
        <param name="manipulation_repeats" value="1" />
        <param name="load_obstacles" value="wall_r" />
    </node>

    <param name="recorder/bagfile_output" value="$(find atf_recorder)/data/" />
    <param name="recorder/test_config_file" value="$(find atf_core)/config/test_config.yaml" />

    <node name="atf_recorder" pkg="atf_recorder" type="recorder_core.py" output="screen" />

</launch>
